<a name="index">**Index**</a>

<a href="#0">操作系统</a>  
&emsp;<a href="#1">1. 基本概念</a>  
&emsp;&emsp;<a href="#2">1.1. 核心态与用户态</a>  
# <a name="0">操作系统</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>

## <a name="1">基本概念</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>

计算机的硬件(或称为冯-诺伊曼模型)组成：
- 主机部分：运算器、存储器、控制器
- 外设部分：输入设备、输出设备

![image](https://github.com/rbmonster/file-storage/blob/main/learning-note/other/operatingsystem/nuoyiman.png)

没有配置软件的计算机成为**裸机**，裸机仅仅构成了计算机系统的硬件基础。\
计算机硬件、软件以及软件的各个部分是一种层次关系。硬件在最底层，其上层是操作系统。通过操作系统供的资源管理功能和方便用户使用的各种功能，把裸机改造成功能更加强大、使用更方便的机器(通常称为虚拟机)。
> 各种实用程序和应用程序在操作系统之上，这些程序都在均以操作系统作为支撑，并向用户提供各种服务。

操作系统是裸机上的第一层软件，是对硬件功能的首次扩充。
引入操作系统的目的：
- 提供一个**计算机用户和计算机硬件系统之间的接口**，使计算机易于使用。
- **有效的控制和管理计算机系统中的中硬件和软件资源**，使之得到更有效的利用。
- 合理地**组织计算机系统的工作流程**，以改善系统性能。

![image](https://github.com/rbmonster/file-storage/blob/main/learning-note/other/operatingsystem/os-level.png)

操作系统的特征：
1. 并发性：
   - 并行性：指两个或多个事件在同一时刻发生。宏观上在一段时间内有多道程序同时运行，但单处理器其实是交替运行，故微观上是交替执行。
   - 并发性：指两个或多个事件在同一事件间隔内发生。如哲学家思考和用餐是可以同时进行的，即两个任务并行执行。
2. 共享性。资源共享是指系统中的硬件和软件不再为某个程序所独占，而是供多个用户共同使用的。
   - 互斥共享：系统中可供共享的某些资源，一段时间内只能供一个作业使用。如打印机、队列等。
   - 同时访问：系统中另一类资源如磁盘、可重入代码，可以供多个作业同时访问。
    > 并发和共享是操作系统最基本的特征，二者互为存在的条件。一方面，资源共享是以程序并发执行为条件的。另一方面，若系统不能对共享资源进行有效管理，会影响到程序的并发执行。
3. 虚拟性：操作系统中，虚拟指的是一个物理上的实体变为若干个逻辑上的对应物，前者是实际存在的，而后者是虚拟的。
4. 异步性

操作系统基本功能 // TODO
1. 处理器管理
2. 存储器管理
3. 设备管理
4. 文件管理
5. 用户接口

### <a name="2">核心态与用户态</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
为了避免操作系统及其关键数据(如PCB等)收到用户程序有意或无意的破坏，通常将处理器的执行状态分为两种：核心态和用户态。

- 核心态(管态、系统态)：是操作系统管理程序执行时机器所处的状态。具有较高的权限，能执行包括特权指令等一切的指令，能访问所有寄存器和存储区。
- 用户态(目态)：是用户程序执行时机器所处的状态，具有较低特权的执行状态，它只能执行规定的指令，只能访问指定的寄存器和存储区。
> 特权指令：只能由操作系统内核部分使用，不允许用户直接使用的指令，如I/O指令、设置中断屏蔽指令、清内存指令、存储保护指令和设置时钟指令。

用户态程序不能直接调用核心态程序，而是通过执行访问核心态的命令，引起中断，由中断系统传入操作系统相关的程序，例如在系统调用时，由用户态转核心态。



